@model Kartverket.Web.Models.ObstacleData

@{
    ViewData["Title"] = "Overview";
}

<section class="mx-auto max-w-2xl">
    <div class="bg-gray-300 rounded-3xl shadow-lg ring-1 ring-gray-200 p-6 space-y-4">
        <header>
            <h1 class="text-2xl font-semibold text-center">Obstacle Overview</h1>
        </header>

        <div class="space-y-6">
            <div class="sm:col-span-1">
                <div class="text-lg font-medium text-gray-900">Obstacle Name</div>
                <div class="bg-white rounded-3xl px-6 py-4 text-sm text-black break-words">@Model.ObstacleName</div>
            </div>
            <div class="sm:col-span-1">
                <div class="text-lg font-medium text-gray-900">Height (m)</div>
                <div class="mt-1 bg-white rounded-3xl px-6 py-4 text-base">@Model.ObstacleHeight</div>
            </div>
            <div class="sm:col-span-1">
                <div class="text-lg font-medium text-gray-900">Description</div>
                <div class="bg-white rounded-3xl px-6 py-4 text-sm text-black break-words sm:col-span-3">@Model.ObstacleDescription</div>
            </div>

            <div class="sm:col-span-3">
                <div id="map" class="w-full rounded-lg overflow-hidden shadow-sm" style="height: 300px;"></div>
                <div class="text-lg font-medium text-gray-900">Location</div>
                <div class="mt-1 bg-white rounded-3xl px-6 py-4 text-base text-gray-900">
                    Latitude: @Model.Latitude.ToString("F6")<br />
                    Longitude: @Model.Longitude.ToString("F6")
                </div>
            </div>
        </div>

        <div class="pt-2">
            <a asp-controller="Home" asp-action="Index"
               class="inline-block rounded-lg px-8 py-4 font-medium text-gray-900 bg-gray-400 rounded-full ring-1 ring-gray-300 hover:bg-gray-50">
                Back to Home
            </a>
        </div>
    </div>
</section>


@section Scripts {
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
        var map = L.map('map').setView([@Model.Latitude, @Model.Longitude], 13);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        var marker = L.marker([@Model.Latitude, @Model.Longitude]).addTo(map);
    </script>
}